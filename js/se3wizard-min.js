var se3wizard={conf:{primarydiv:"Se3wizard",headerTxt:"New Wizard",loadinggraphic:"img/loading.gif",backbtntext:"Back",backbtnclass:"btn-warning",continuebtntext:"Continue",continuebtnclass:"btn-warning",finishbtntext:"Finish and Save",finishbtnclass:"btn-warning",saveurl:""},error:!1,isMobile:window.matchMedia("only screen and (max-width: 767px)"),init:function(a){if(a.hasOwnProperty("tabs")){var t=(a.tabs,!0),e=!1;$.each(a,function(a,t){"config"==a&&$.each(t,function(a,t){se3wizard.conf.hasOwnProperty(a)&&(se3wizard.conf[a]=t,"saveurl"==a&&(e=!0))})});var r=$("#"+this.conf.primarydiv).closest("form");r.length?(r.addClass("se3wizardform"),""==r.attr("id")&&r.attr("id","se3wizardform")):(t=!1,r=document.createElement("form"),$(r).attr("name","se3wizardform").attr("id","se3wizardform").addClass("se3wizardform"));var i=document.createElement("input");$(i).attr("id","se3wizardaction").attr("name","se3wizardaction").attr("type","hidden");var d=document.createElement("div");$(d).addClass("se3formwizard").attr("id","se3formwizard");var s=document.createElement("div");$(s).addClass("se3wizardheader").attr("id","se3wizardheader"),$(s).text(se3wizard.conf.headerTxt),$(d).append(s);var n=document.createElement("div");$(n).addClass("se3wizardtabbar").attr("id","se3wizardtabbar");var o=document.createElement("ul"),c=document.createElement("div");$(c).addClass("se3wizardprogressbx").addClass("progress").attr("id","se3wizardprogressbx");var l=document.createElement("div");$(l).addClass("progress-bar").attr("role","progressbar").attr("aria-valuenow","50").attr("aria-valuemin","0").attr("aria-valuemax","100").css("wdith","50%"),$(c).append(l),$(n).append(o,c),$(d).append(n);var p=document.createElement("div");$(p).addClass("se3wizardcontent").attr("id","se3wizardcontent");var w=document.createElement("div");$(w).addClass("se3wizardformdata").attr("id","se3wizardformdata"),$(p).append(w);var u=document.createElement("span");$(u).addClass("glyphicon");var b=document.createElement("div");$(b).addClass("se3wizardbuttons").attr("id","se3wizardbuttons");var z=document.createElement("div");$(z).addClass("se3wizardbuttonback").attr("id","se3wizardbuttonback");var f=document.createElement("button"),m=$(u).clone();$(f).addClass("btn").addClass(this.conf.backbtnclass).attr("type","button"),$(m).addClass("glyphicon-chevron-left"),$(f).append(m).append(this.conf.backbtntext),$(f).click(function(){return id=$("#se3wizardtabbar ul li a.current").attr("id"),id=id.replace("wizardstep",""),last=parseInt(id)-1,last=parseInt(last,10),$("#se3wizardaction").val(last),se3wizard.loadstep(last),se3wizard.onBack(),!1}),$(z).append(f);var v=document.createElement("div");$(v).addClass("se3wizardbuttonforward").attr("id","se3wizardbuttonforward");var h=document.createElement("button"),g=$(u).clone();$(h).addClass("btn").addClass(this.conf.continuebtnclass).attr("type","button"),$(g).addClass("glyphicon-chevron-right"),$(h).append(this.conf.continuebtntext).append(g),$(h).click(function(){return se3wizard.validate()&&(id=$("#se3wizardtabbar ul li a.current").attr("id"),id=id.replace("wizardstep",""),next=parseInt(id,10)+1,next=parseInt(next,10),$("#se3wizardaction").val(next),se3wizard.loadstep(next),se3wizard.onContinue()),!1}),$(v).append(h);var x=document.createElement("div");$(x).addClass("se3wizardbuttonsave").attr("id","se3wizardbuttonsave");var C=document.createElement("button");$(C).addClass("btn").addClass(this.conf.finishbtnclass).attr("type","button").append(this.conf.finishbtntext),$(C).click(function(){return se3wizard.validate()&&($("#se3wizardtabbar ul li a").off(),$("#se3wizardtabbar ul li a").attr("class","inactive"),$("#se3wizardbuttons").hide(),$("#se3wizardprogressbx div.progress-bar").html("100%"),$("#se3wizardprogressbx div.progress-bar").attr("aria-valuenow",100),$("#se3wizardprogressbx div.progress-bar").css("width","100%"),$("#se3wizardaction").val("finish"),$.ajax({type:"POST",cache:!1,beforeSend:function(a,t){$("#se3wizardformdata").html(""),$("#se3wizardformdata").append(se3wizard.loader())},url:se3wizard.conf.saveurl,data:$(".se3wizardform").serialize(),dataType:"html",success:function(a,t,e){$("#se3wizardformdata").html(a)},complete:se3wizard.onFinish,error:function(a,t,e){$("#se3wizardbuttons button").prop("disabled",!0),$("#se3wizardformdata").text(e),$("#se3wizardtabbar ul li a").attr("class","inactive"),se3wizard.error=!0}})),!1}),$(x).append(C),$(b).append(z,v,x),$(p).append(b),$(d).append(p),t?$("#"+this.conf.primarydiv).append(i,d):($(r).append(i,d),$("#"+this.conf.primarydiv).append(r)),$("#se3wizardbuttonsave").hide(),$("#se3wizardprogressbx div.progress-bar").html("0%").attr("aria-valuenow","0").css("width","0"),$.each(a,function(a,t){if("tabs"==a){var r=0;$.each(t,function(a,t){lclass="inactive",0==r&&(lclass="current"),$("#se3wizardtabbar ul").append('<li><a href="#" onclick="return false;" rel="'+t+'" class="'+lclass+'" id="wizardstep'+parseInt(r,10)+'">'+a+"</a></li>"),e||(se3wizard.conf.saveurl=t),r++})}}),$("#se3wizardaction").val(0),this.loadstep(0)}},loadstep:function(a){0==a?$("#se3wizardbuttonback").hide():$("#se3wizardbuttonback").show(),c=0,$("#se3wizardtabbar ul li a").each(function(){c++,id=$(this).attr("id"),id=id.replace("wizardstep",""),id=parseInt(id,10),id==a&&($(this).attr("class","current"),$(this).off()),id>a&&($(this).attr("class","inactive"),$(this).off()),id<a&&($(this).attr("class","active"),$(this).click(function(){return id=$(this).attr("id"),id=id.replace("wizardstep",""),id=parseInt(id,10),$("#se3wizardaction").val(id),se3wizard.loadstep(id),!1}))}),$.ajax({type:"POST",cache:!1,beforeSend:function(a,t){$("#se3wizardformdata").empty(),$("#se3wizardformdata").append(se3wizard.loader())},url:$("#se3wizardtabbar ul li a.current").attr("rel"),data:$(".se3wizardform").serialize(),dataType:"html",success:function(a,t,e){$("#se3wizardformdata").html(a)},complete:se3wizard.onStepComplete,error:function(a,t,e){$("#se3wizardbuttons button").prop("disabled",!0),$("#se3wizardformdata").text(e),$("#se3wizardtabbar ul li a").attr("class","inactive"),se3wizard.error=!0}}),se3wizard.error||(pbar=Math.round(a/c*100),$("#se3wizardprogressbx div.progress-bar").attr("aria-valuenow")<pbar&&$("#se3wizardprogressbx div.progress-bar").html(pbar+"%").attr("aria-valuenow",pbar).css("width",pbar+"%"),a==c-1?($("#se3wizardbuttonforward").hide(),$("#se3wizardbuttonsave").show()):($("#se3wizardbuttonforward").show(),$("#se3wizardbuttonsave").hide()))},loader:function(){var a=document.createElement("img");return $(a).attr("src",this.conf.loadinggraphic).addClass("se3wizardloader"),a},validate:function(){return!0},onFinish:function(){},onContinue:function(){},onBack:function(){},onStepComplete:function(){}};